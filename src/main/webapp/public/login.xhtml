<!DOCTYPE html>
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:p="http://primefaces.org/ui"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  lang="es"
>
  <h:head>
    <title>Bienvenido!</title>
    <link rel="stylesheet" type="text/css" href="../css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="../css/login.css" />
  </h:head>
  <main>
    <div class="login-container">
      <div class="illustration-to-do"></div>
      <div class="login">
        <div class="title-containter">
          <img class="lab-img" src="../img/logo.png" alt="LabInformatica"></img>
          <h2 class="title">Bienvenido al sistema de actividades</h2>
        </div>
        <h:form id="login-form" styleClass="login-section">
          <h2 class="login-title">Iniciar Sesión</h2>
          <p:growl id="messages" show-detail="true" />
          <div class="input-field">
            <p:inputText value="#{loginBean.userName}" placeholder="Nombre de Usuario" styleClass="input-text" />
            <p:password value="#{loginBean.password}" placeholder="Contraseña" styleClass="input-text"/>
          </div>
          <div class="buttons-container">
            <p:commandButton actionListener="#{loginBean.login}" value="Ingresar" icon="pi pi-user" styleClass="button"/>
            <p:commandButton actionListener="#{loginBean.createUserAccount}" value="Crear Cuenta" icon="pi pi-user-plus"
              update=":dialogs:create-account-content" oncomplete="PF('createAccountDialog').show()" styleClass="button">
              <p:resetInput target=":dialogs:create-account-content" />
            </p:commandButton>
          </div>  
        </h:form>
      </div>
    </div>

    <h:form id="dialogs">
      <p:dialog header="Crear cuenta" showEffect="fade" modal="true" widgetVar="createAccountDialog"
        responsive="true" styleClass="ui-dialog-create-account create-account">
        <p:outputPanel id="create-account-content" class="ui-fluid">
          <p:outputPanel rendered="#{not empty loginBean.newUser}">
            <div class="create-field">
              <p:inputText id="full-name" required="true" placeholder="Nombre de Usuario"
                styleClass="create-input-text" value="#{loginBean.newUser.userName}"/>
            </div>
            <div class="create-field">
              <p:inputText id="email" required="true" placeholder="Email"
                styleClass="create-input-text" value="#{loginBean.newUser.userEmail}"/>
            </div>
            <div class="create-field">
              <p:inputText id="password" type="password" required="true" styleClass="create-input-text"
                value="#{loginBean.newUser.userPassword}" placeholder="Contraseña"/>
            </div>
            <div class="create-field">
              <p:selectOneMenu id="role" value="#{loginBean.newUser.userRole}" styleClass="create-input-text">
                <f:selectItem itemLabel="Seleccione un Rol" itemValue="" noSelectionOption="true" />
                <f:selectItem itemLabel="Monitor" itemValue="Monitor"/>
                <f:selectItem itemLabel="Administrador" itemValue="Administrador" />
              </p:selectOneMenu>
            </div>
          </p:outputPanel>
        </p:outputPanel>

        <f:facet name="footer">
          <div class="buttonsAccountContainer">
            <p:commandButton value="Create" icon="pi pi-check" actionListener="#{loginBean.createAccount()}"
              update="create-account-content" process="create-account-content @this" styleClass="done-create-button" />
            <p:commandButton value="Cancel" icon="pi pi-times" onclick="PF('createAccountDialog').hide()"
              class="ui-button-secondary cancel-create-button" />
          </div>
        </f:facet>
      </p:dialog>
    </h:form>
  </main>
  <h:body> 
  </h:body>
</html>
